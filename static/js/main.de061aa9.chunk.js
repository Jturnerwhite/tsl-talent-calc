(this.webpackJsonptslapp=this.webpackJsonptslapp||[]).push([[0],{28:function(e,t,a){e.exports=a(40)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(12),c=a(8),o=a(14),s=a(26),i=a(27),u=a(9),d=a(2);function p(){return l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Characters"),l.a.createElement("p",null,l.a.createElement(u.b,{to:"/"},"Home")))}var h=a(7),T=a(19),g=a(20),m=a(22),E=a(21),b=function(e){var t=e.talentData,a=e.toggleTalent,n="tt-talent__button tt-talent__button--"+t.icon,r="tt-talent";t.assigned&&(r+=" tt-talent--active");return l.a.createElement("div",{className:r},l.a.createElement("button",{className:n,onClick:function(){a(e.talentData,!0)},onContextMenu:function(t){t.preventDefault(),a(e.talentData,!1)}}))},_=function(e){Object(m.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(T.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).canToggleTalent=function(t,a){if(t.assigned===a)return!1;var n=e.props.branchData.talents.find((function(e){return e.id==t.id-1})),l=e.props.branchData.talents.find((function(e){return e.id==t.id+1}));return t.assigned?!l||!l.assigned:!n||n.assigned},e.updateTalent=function(t,a){e.canToggleTalent(t,a)&&e.props.toggleTalent(t)},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this,t=this.props.branchData;if(t&&t.talents&&t.talents.length>0){var a=t.talents.map((function(a,n){var r="tt__leaf";return n===t.talents.length-1&&(r+=" tt__leaf--hide-path"),l.a.createElement("div",{key:n,className:r},l.a.createElement(b,{talentData:a,toggleTalent:e.updateTalent}))}));return l.a.createElement("div",{className:"tt__branch"},l.a.createElement("div",{className:"tt__leaf tt__leaf--hide-path"},l.a.createElement("label",{className:"tt__text tt__text--small tt__text--left-align"},t.id)),a)}return l.a.createElement("h1",null,"There was an error loading Talent Tree Branches")}}]),a}(n.Component),f=function(e){Object(m.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(T.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).updateTree=function(){e.props.updateTalentTree(e.props.talentTree)},e.canToggleTalent=function(t){return t.assigned||t.cost<=e.props.talentTree.points},e.toggleTalent=function(t){e.canToggleTalent(t)&&(e.props.talentTree.points+=t.assigned?t.cost:-t.cost,t.assigned=!t.assigned,e.updateTree())},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this,t=this.props.talentTree,a=t.branches,n=t.points,r=t.pointsMax,c=a.map((function(t,a){return l.a.createElement(_,{key:a,branchData:t,toggleTalent:e.toggleTalent})}));return l.a.createElement("div",{className:"talent-tree"},l.a.createElement("h1",{className:"tt__heading"},"TitanStar Legends - Talent Display"),l.a.createElement("div",{className:"tt__row"},l.a.createElement("div",{className:"tt__col tt__col--quad-size tt__col--stretch"},c),l.a.createElement("div",{className:"tt__col"},l.a.createElement("div",{className:"tt__point-container"},l.a.createElement("label",{className:"tt__text"},n," / ",r),l.a.createElement("label",{className:"tt__text tt__text--theme-color"},"Points Spent")))))}}]),a}(n.Component),v={branches:[{id:"Talent Path 1",talents:[{id:1,name:"Stacker",icon:"stack",branch:"Blue Magic",description:"All bonuses of the same type now stack (Without this skill, same-typed bonuses do not stack).",cost:1,assigned:!1},{id:2,name:"Snacker",icon:"snack",branch:"Blue Magic",description:"Get a bonus to each stat equal to the number of different type of bonus you have applied. (This does include this bonus)",cost:1,assigned:!1},{id:3,name:"Gourmand",icon:"cake",branch:"Blue Magic",description:"All other bonuses double in value.",cost:1,assigned:!1},{id:4,name:"Gluttony King",icon:"crown",branch:"Blue Magic",description:"All other bonuses quadruple in value.  This overrides Gourmand.",cost:1,assigned:!1}]},{id:"Talent Path 2",talents:[{id:5,name:"Ship-Shape",icon:"boat",branch:"Ocean Magic",description:"Once per day, you can (as a free action) make yourself immune to sea sickness until your next short or long rest.",cost:1,assigned:!1},{id:6,name:"Diver",icon:"diver",branch:"Ocean Magic",description:"You can hold your breath twice as long.",cost:1,assigned:!1},{id:7,name:"Soul of the Eel",icon:"lightning",branch:"Ocean Magic",description:"Once per day you can activate this ability. Doing so will coat you in an electric aura, dealing 1d4 damage to any melee attackers that hit you for the next 1d8 turns.",cost:1,assigned:!1},{id:8,name:"Shipwreck",icon:"skull",branch:"Ocean Magic",description:"Summon a ghost of a dead sailor to fight for you.",cost:1,assigned:!1}]}],points:6,pointsMax:6};a(38);var y=Object(o.b)((function(e){return{loading:e.talents.loading,talentTree:e.talents.talentTree,errors:e.talents.errors}}))((function(e){var t=e.dispatch,a=e.talentTree,r=e.loading,c=e.errors,o=a&&a.branches&&a.branches.length>0;Object(n.useEffect)((function(){document.title="TS:Legends - Talent Tree",o||t((console.log("Fetching Talent Tree . . . "),function(e){console.log("Dispatching GET Talent Tree . . . "),e({type:"GET_TALENT_TREE"});try{console.log("Setting Talent Tree . . . "),e({type:"GET_TALENT_TREE_SUCCESS",payload:v})}catch(t){e({type:"GET_TALENT_TREE_FAILURE"})}}))}),[t]);var s=function(e){console.log("updateTalentTree:",e),t(function(e){return{type:"UPDATE_TALENT_TREE",payload:e}}(Object(h.a)({},e)))};return l.a.createElement("section",null,r?l.a.createElement("h2",null,"Loading talent tree..."):c?l.a.createElement("h2",null,"Unable to display talent tree."):o?l.a.createElement(f,{talentTree:a,updateTalentTree:s}):(console.log(a),l.a.createElement("h2",{style:{color:"white"}},"Unable to display talent tree.")))})),O=function(){return l.a.createElement(u.a,{basename:"/tsl-talent-calc/"},l.a.createElement(d.d,null,l.a.createElement(d.b,{exact:!0,path:"/",component:y}),l.a.createElement(d.b,{exact:!0,path:"/characters",component:p}),l.a.createElement(d.b,{exact:!0,path:"/talents",component:y}),l.a.createElement(d.a,{to:"/"})))},N={talentTree:{},loading:!1,errors:!1};a(39);var j=Object(c.combineReducers)({talents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TALENT_TREE":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"GET_TALENT_TREE_SUCCESS":return{talentTree:t.payload,loading:!1,errors:!1};case"GET_TALENT_TREE_FAILURE":return Object(h.a)(Object(h.a)({},e),{},{loading:!1,errors:!0});case"UPDATE_TALENT_TREE":return console.log(e),console.log(t.payload),Object(h.a)(Object(h.a)({},e),{},{talentTree:t.payload});default:return e}}}),k=Object(c.createStore)(j,Object(i.composeWithDevTools)(Object(c.applyMiddleware)(s.a)));Object(r.render)(l.a.createElement(o.a,{store:k},l.a.createElement(O,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.de061aa9.chunk.js.map